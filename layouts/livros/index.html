{{- partial "htmlhead" . -}}

	<body lang='{{ .Site.Language.Lang | default "en-us" }}' class="is-preload">

        <!-- Wrapper -->
        <div id="wrapper">

            {{- partial "header" . -}}
            {{- partial "nav" . }}

            <!-- Main -->
            <div id="main">
                <div id="livros"> 

                    <div id="painelLivros">
                        <a id="carrousel-left">&#10094;</a>
                        <a id="carrousel-right">&#10095;</a>

                        {{ range $livro := .Params.livros }}
                        <div class="imagensPainelLivros" id="painel-{{ $livro.id }}" myid="{{ $livro.id }}">
                            {{/*  <a href="#" onclick="oi('{{$livro.titulo}}', '{{$livro.descricao}}', '{{$livro.imagens}}')">  */}}
                            <a href="#">
                                <img src="{{index $livro.imagens 0}}" class="imagemPainel">
                            </a>
                        </div>
                        {{ end }}
                            
                    </div>

                    <div id="livroSelecionado">
                        <div id="carrosselLivroSelecionado">
                            <div class="mySlides fade">
                                <img src="c2.jpg">                               
                            </div>

                            <div class="mySlides fade"> 
                                <img src="indisponiveis.jpg">
                            </div>

                            <div class="mySlides fade">
                                <img src="c2.jpg">
                            </div>

                            <a id="prev" onclick="plusSlides(-1)">&#10094;</a> <!-- Já estava como a -->
                            <a id="next" onclick="plusSlides(1)">&#10095;</a>

                            <div id="posicaoDots">
                                <span class="dot" onclick="currentSlide(1)"></span>
                                <span class="dot" onclick="currentSlide(2)"></span>
                                <span class="dot" onclick="currentSlide(3)"></span>
                            </div>
           
                        </div>

                        <div id="informacoesLivroSelecionado">     
                            <p class="tituloLivroSelecionado">Coraline</p>             
                            <div id="caixaDescricaoLivroSelecionado">
                                <p class="descricaoLivroSelecionado">Enquanto explora sua nova casa à noite, a pequena Coraline descobre uma porta secreta que contém um mundo parecido com o dela, porém melhor em muitas maneiras. Todos têm botões no lugar dos olhos, os pais são carinhosos e os sonhos de Coraline viram realidade por lá. Ela se encanta com essa descoberta, mas logo percebe que segredos estranhos estão em ação: uma outra mãe e o resto de sua família tentam mantê-la eternamente nesse mundo paralelo.</p>
                            </div>
                            <div id="posicaoBotoes">
                                <p class="adquirirLivroSelecionado">Adquirir livro</p>
                                    <button type="button">Ebook</button>
                                    <button type="button">Físico</button>
                            </div>
                        </div>
 
                    </div>
                </div>
            </div>

            {{- partial "copyright" . }}
            <a href="#navPanel" id="navPanelToggle">{{ i18n "NAV_MENU" . }}</a>
        </div>
  
        {{- template "_internal/google_analytics.html" . }}
        {{- partial "scripts/index" . }}     
    </body>

    <style>

/* DEFINICOES GERAIS DE ESTILO */
        a {
            border: none;
        }

    /* Bloco dos livros gerais */       
        img{
            display: block;
        }

        #livros {
            padding: 0 0 2% 0;
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
        }

        #painelLivros {
            display: inline-flex;
            flex-direction: row; 
            justify-content: space-between;
            padding-top: 5%;
            padding-bottom: 2%;
            padding-left: 3%;
            padding-right: 3%;
            width: 80%;
            margin: auto;
            overflow: auto;
        }

        .selected {
            transform: scale(1.06);
        }

        .imagemPainel {
            max-width: 150px;
            /* padding-left: 30px;
            padding-right: 30px; */
            /* border-left: 30px solid rgba(0, 0, 255, 0);
            border-right: 30px solid rgba(0, 0, 255, 0); */
            background-color: blue;
        }

        /* .imagensPainelLivros .imagemPainel:nth-last-child(1){
            opacity: 50%;
        }

        .imagensPainelLivros .imagemPainel:nth-last-child(1){
            border: 1px solid green;
        }
 */
        #painelLivros > .imagensPainelLivros:nth-last-child(1) {
            /* border: 10px solid black; */
            opacity: .5;
        }

                    /* #painelLivros >div:nth-last-child(1){
                        border: 1px solid rgb(33, 17, 173);
                    } */

        /* .imagemPainel >.ImagensPainelLivros:nth-last-child(1){
            border: 1px solid green;
        } */

        #carrousel-left{
            left:6%;
        }

        #carrousel-right{           
            right:6%;
        }

        #carrousel-left, #carrousel-right{
            position: absolute;
            top: 100px;
            cursor:pointer;
            font-size: 40px;
            font-weight: bold;
            color: rgba(0, 0, 0, 0.89);
            user-select: none;
        }

    /* Bloco das informações e aquisicao do livro selecionado */
        #livroSelecionado {
            display: flex;
            flex-direction: row;
            padding: 5% 5% 2% 5%;
        }

        .tituloLivroSelecionado{ 
            font-weight: bold;
            font-size: 2rem;
            margin: -1px;
        }

        .descricaoLivroSelecionado{
            font-size: 1rem;
            font-weight: 500;
        }

        .adquirirLivroSelecionado{
            font-weight: bold;
            font-size: 1rem;
            margin: 0;
        }

        #posicaoBotoes{
            position: absolute;
            bottom: 10%;
        }

    /* Bloco do carrossel do livro selecionado */
        *{box-sizing: border-box}

        #carrosselLivroSelecionado {
            text-align: center;
            min-width: 40%;
            position: relative;
            margin: auto;
        }

        #informacoesLivroSelecionado {
            text-align: left;
            padding-left: 3%;
            position: relative;
        }

        #caixaDescricaoLivroSelecionado{
            margin-bottom: 1%;
            line-height: 1.8;
        }

        .mySlides{
           display: none;
        }

        #prev, #next {
            cursor: pointer;
            position: absolute;
            margin-top: -22px;
            top: 48%;
            width: auto;
            padding: 16px;
            color: rgba(255, 255, 255, 0.87);
            opacity: 80%;
            font-weight: bold;
            font-size: 18px;
            transition: 0.6s ease;
            border-radius: 0 3px 3px 0;
            user-select: none;
        }

        #next {
            right: 0;
            border-radius: 3px 0 0 3px;
        }

        #prev{
            left:0;
            border-radius: 0 3px 3px 0;
        }

        #prev:hover, #next:hover {
            background-color: rgba(0,0,0,0.8);
        }

        .dot {
            cursor: pointer;
            height: 13px;
            width: 13px;
            margin: 0 4px;
            background-color: #bbb;
            border-radius: 50%;
            display: inline-block;
            transition: background-color 0.6s ease;
        }

        .active, .dot:hover {
            background-color: #535353;
        }

        .fade {
            animation-name: fade;
            animation-duration: 1.5s;
        }

        @keyframes fade {
            from {opacity: .4}
            to {opacity: 1}
        }

        #posicaoDots{
            display: inline-flex;
            flex-direction: row; 
            width: 80%;
            justify-content: center;
        }

    /*Estilizacao scrollbar*/
        ::-webkit-scrollbar {
            width: 5px;              /* width of the entire scrollbar */
            height: 5px;
        }

        ::-webkit-scrollbar-track {
            background: none;       /* color of the tracking area */
        }

        ::-webkit-scrollbar-thumb {
            background-color: rgb(131, 131, 131);    /* color of the scroll thumb */
            border-radius: 20px;       /* roundness of the scroll thumb */
        }
                    
        *::-webkit-scrollbar {
            width: 5px;
        }

        *::-webkit-scrollbar-track {
            background: none;
        }

        *::-webkit-scrollbar-thumb {
            background-color:rgb(131, 131, 131);
            border-radius: 20px;
        }

        body {
            scrollbar-width: thin;   /* "auto" or "thin" */
            scrollbar-color: rgb(131, 131, 131);   /* scroll thumb and track */
        }

        ::-webkit-scrollbar-thumb:active { 
            background-color: rgb(100, 100, 100);
        }


/* DEFINICOES PARA OS TAMANHOS EM DESKTOP */
   
    /* Bloco 825 até 710 px */
        @media screen and (max-width: 825px) and (min-width: 710px){
            #carrousel-left{
                left:5.8%;
            }
            #carrousel-right{           
                right:5.8%;
            }
            #livroSelecionado{
                height: 60vw;
            }
            #caixaDescricaoLivroSelecionado{
                overflow: auto;
                height: 50%;
                padding-right: 10px; 
                margin-bottom: 1%;
            }
            #posicaoBotoes{
                position: absolute;
                transform: scale(0.95);
                margin-left: -1.2%;
                bottom: 10%;
            }
        }

    /* Bloco 709 até 641 px */
        @media screen and (max-width: 709px) and (min-width: 641px){
            #carrousel-left{
                left:5.6%;
            }
            #carrousel-right{           
                right:5.6%;
            }
            #livroSelecionado{
                height: 60vw;
            }
            #carrosselLivroSelecionado{
                margin-top: 0;
            }
            .tituloLivroSelecionado{
                transform: scale(0.9);
                margin-left: -5%;
            }
            #informacoesLivroSelecionado{
                height: 90%;
            }
            #caixaDescricaoLivroSelecionado{
                overflow: auto;
                height: 25vw;
                padding-right: 10px;
                margin-bottom: 10%;
            }
            #posicaoBotoes{
                position: absolute;
                transform: scale(0.9);
                bottom: 1%;
                margin-left: -3.2%;
            }
        }
    
    /* Bloco a partir de 640 px */
        @media screen and (max-width: 640px) {
            #livros {
                padding: 0 5% 2% 5%;
            }
            #carrousel-left{
                left:4.5%;
            }
            #carrousel-right{           
                right:4.5%;
            }
            #livroSelecionado { 
                flex-direction: column;
            }
            #carrosselLivroSelecionado {
                width: 100%;
            }
            #informacoesLivroSelecionado {
                text-align: left;
                padding-left: 0;
                margin-top: 5%;
            }
            #posicaoBotoes {
                position:relative;
                padding-top: 10%;
            }
        }
        
        




        

        /*fazer o botão voltar ao normal no celular*/
        /* @media (hover: none){
            #prev:hover, #next:hover{
                color: rgba(255, 255, 255, 0.87) !important;
                opacity: 80%;
                background-color: rgba(255, 0, 0, 0);
            }
            #prev:active, #next:active{
                color:#18bfef !important;
                background-color: rgba(0,0,0,0.8);
            }
        } */

        
        /* #DEVICE MOBILE */
        @media only screen and (hover:none) and (pointer:coarse){

            /*COLOCAR NO DO CELULAR 
            #carrousel-left:hover, #carrousel-right:hover{
                color:rgba(0, 0, 0, 0.89) !important;
            }
            #carrousel-left:active, #carrousel-right:active{
                color:#18bfef !important;
            } */

            /* colocar no MEDIA CELULAR
            .selected {
                transform: scale(0.85);
            #painelLivros{
                width: 70%;
            }
            .imagensPainelLivros{
                transform: scale(0.8);
                margin-bottom: -20px;
            }
            .imagemPainel{
                min-width: 180px;
                border-left: 10px solid rgba(0, 0, 255, 0);
                border-right: 10px solid rgba(0, 0, 255, 0);
            }
            } */

}
    </style>


<!-- JAVASCRIPT -->
<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", (event) => { 
        setupCarousel()
    });

// CARROSSEL TODOS OS LIVROS
    // Vai chamar carousel sim
    let currentFocus = 0
    let images = document.getElementsByClassName('imagensPainelLivros')
    
    let setupCarousel = function() {
        for(let image of images) {
            image.addEventListener("click", (el) => {
                images[currentFocus].classList.remove('selected')

                currentFocus = parseInt(el.currentTarget.getAttribute('myid'))
                
                el.currentTarget.scrollIntoView()
                el.currentTarget.classList.add('selected')
            })
        }

        document.getElementById('carrousel-left').addEventListener("click", (el) => {
            images[currentFocus].classList.remove('selected')

            currentFocus = currentFocus > 0 ? currentFocus - 1 : images.length - 1
            
            images[currentFocus].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' })
            images[currentFocus].classList.add('selected')
         })

        document.getElementById('carrousel-right').addEventListener("click", () => {
            images[currentFocus].classList.remove('selected')

            currentFocus = currentFocus < images.length - 1 ? currentFocus + 1 : 0
            
            images[currentFocus].scrollIntoView({ behavior: 'smooth', block: 'nearest', inline: 'start' })
            images[currentFocus].classList.add('selected')
         })
    }

//SLIDES LIVRO SELECIONADO
     let slideIndex = 1;
        showSlides(slideIndex);

    function plusSlides(n) {
        showSlides(slideIndex += n);
    }

    function currentSlide(n) {
        showSlides(slideIndex = n);
    }

    function showSlides(n) {
        let i;
        let slides = document.getElementsByClassName("mySlides");
        let dots = document.getElementsByClassName("dot");
        if (n > slides.length) {slideIndex = 1}
        if (n < 1) {slideIndex = slides.length}
        for (i = 0; i < slides.length; i++) {
            slides[i].style.display = "none";
        }
        for (i = 0; i < dots.length; i++) {
            dots[i].className = dots[i].className.replace(" active", ""); 
            }
        
        slides[slideIndex-1].style.display = "block";
        dots[slideIndex-1].className += " active";
    }

</script>
